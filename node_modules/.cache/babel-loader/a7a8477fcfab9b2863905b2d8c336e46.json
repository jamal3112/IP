{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0414\\u0436\\u0430\\u043C\\u0430\\u043B\\u0443\\u0434\\u0438\\u043D\\\\Desktop\\\\\\u0443\\u0447\\u0435\\u0431\\u0430\\\\2 \\u043A\\u0443\\u0440\\u0441\\\\ip\\\\src\\\\Components\\\\Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Login = ({\n  setCurrentUser\n}) => {\n  const [email, setEmail] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [users, setUsers] = useState([{}]);\n  const [showAlert, setShowAlert] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const handleLogin = e => {\n    e.preventDefault();\n    let userExist = false;\n    users.map(user => {\n      if (user.login === email && user.pass === pass) {\n        userExist = true;\n        setShowAlert(false);\n      }\n    });\n\n    if (userExist) {\n      setShowSuccess(true);\n      setCurrentUser({\n        email: email,\n        pass: pass\n      });\n      setEmail(\"\");\n      setPass(\"\");\n    } else {\n      setShowSuccess(false);\n      setShowAlert(true);\n    }\n  };\n\n  useEffect(() => {\n    axios.get(\"http://localhost:3000/users\").then(resp => {\n      setUsers(resp.data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"), showAlert ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043B\\u043E\\u0433\\u0438\\u043D \\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\") : \"\", showSuccess ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0432\\u043E\\u0448\\u043B\\u0438\") : \"\", /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputEmail1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Email \\u0430\\u0434\\u0440\\u0435\\u0441\\u0441\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"example@gmail.com\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    value: pass,\n    onChange: e => setPass(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => handleLogin(e),\n    type: \"submit\",\n    className: \"btn btn-primary mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/reg\",\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Джамалудин/Desktop/учеба/2 курс/ip/src/Components/Login.js"],"names":["React","useState","useEffect","Link","axios","Login","setCurrentUser","email","setEmail","pass","setPass","users","setUsers","showAlert","setShowAlert","showSuccess","setShowSuccess","handleLogin","e","preventDefault","userExist","map","user","login","get","then","resp","data","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Login = ({ setCurrentUser }) => {\n  const [email, setEmail] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [users, setUsers] = useState([{}]);\n  const [showAlert, setShowAlert] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    let userExist = false;\n    users.map((user) => {\n      if (user.login === email && user.pass === pass) {\n        userExist = true;\n        setShowAlert(false);\n      }\n    });\n\n    if (userExist) {\n      setShowSuccess(true);\n      setCurrentUser({ email: email, pass: pass });\n      setEmail(\"\");\n      setPass(\"\");\n    } else {\n      setShowSuccess(false);\n      setShowAlert(true);\n    }\n  };\n\n  useEffect(() => {\n    axios.get(\"http://localhost:3000/users\").then((resp) => {\n      setUsers(resp.data);\n    });\n  }, []);\n\n  return (\n    <>\n      <h1>Вход</h1>\n      {showAlert ? (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          Неправильный логин или пароль\n        </div>\n      ) : (\n        \"\"\n      )}\n      {showSuccess ? (\n        <div className=\"alert alert-success\" role=\"alert\">\n          Вы успешно вошли\n        </div>\n      ) : (\n        \"\"\n      )}\n      <form>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputEmail1\">Email адресс</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            placeholder=\"example@gmail.com\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputPassword1\">Пароль</label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            id=\"exampleInputPassword1\"\n            value={pass}\n            onChange={(e) => setPass(e.target.value)}\n          />\n        </div>\n        <button\n          onClick={(e) => handleLogin(e)}\n          type=\"submit\"\n          className=\"btn btn-primary mr-2\"\n        >\n          Войти\n        </button>\n        <Link to=\"/reg\" className=\"btn btn-secondary\">\n          Регистрация\n        </Link>\n      </form>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}